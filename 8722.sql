CREATE DATABASE QLKhachhang_BuiGiaTien;
go
USE QLKhachhang_BuiGiaTien;

CREATE TABLE KHACHHANG (
	MAKH VARCHAR(10) PRIMARY KEY
	,HOTEN NVARCHAR(50)
	,DCHI NVARCHAR(250)
	,SODT VARCHAR(50)
	,NGSINH DATE
);

CREATE TABLE SANPHAM (
	MASP VARCHAR(50) PRIMARY KEY
	,TENSP NVARCHAR(50)
	,DVT NVARCHAR(50)
	,NUOCSX NVARCHAR(50)
	,DONGIA INT
);

CREATE TABLE HOADON (
	SOHD INT PRIMARY KEY
	,NGAYHD DATE
	,MAKH VARCHAR(10) FOREIGN KEY REFERENCES KHACHHANG(MAKH)
);

CREATE TABLE CTHOADON (
	SOHD INT FOREIGN KEY REFERENCES HOADON(SOHD)
	,MASP VARCHAR(50) FOREIGN KEY REFERENCES SANPHAM(MASP)
	,SL INT
);
go

-- nhap du lieu:
INSERT INTO KHACHHANG 
VALUES (
	'HDG.001'
	,N'Đào Duy Thịnh'
	,N'Võ Nguyên Giáp'
	,'0915962468'
	,'1984-11-13'
);

INSERT INTO SANPHAM
VALUES (
	'RUS.BINHNUOC'
	,N'Bình nước'
	,N'Chiếc'
	,N'NGA'
	,80000
);

INSERT INTO HOADON
VALUES (
	81357
	,'2017-5-18'
	,'HDG.001'
);

INSERT INTO CTHOADON
VALUES (
	81357
	,'RUS.BINHNUOC'
	,5
);